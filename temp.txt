It looks like there are still a few problems.
One that I can see is that you send a new packet as f"{sourceIP} {destinationIP} {payload} {new_ttl}" 
but you look for commas when you split the packet     packet = decoded_packet.split(" "). the result of this is an empty string being written to the files and sent on.
Be sure to check which files you're writing to, i noticed that router 4 was trying to write to received_by_router_2 for example.
As a general observation, there is likely to be an off by 1 with the TTL, that results in packets being discarded when they shouldnt be. but this is a small problem that is easy to fix once the general functionality is implemented. The Princess packet I posted about earlier is one that checks this.
Another thing that i notice with this is that you're writing packet not new_packet to discarded_by_router so the TTL values are off by 1 (unrelated to the likely off by 1 above)
Router 3 never receives any packets, but I did not investigate why. My guess is that something is not quite working properly in either ip_to_bin or find_ip_range. 
This packet should be sent to router 3
57.169.239.1,10.0.0.59,is,6
it should take the path 1->2->3